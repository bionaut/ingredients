<div
  xid="{{vm.xid}}"
  class="i-switch"
  ng-model="vm.model"
  i-valid="{{vm.validate}}"
  name="{{vm.name}}">
  <div class="read-only" ng-show="vm.readOnly" ng-bind="vm.viewValue()"></div>
  <div class="i-switch-option"
       ng-show="!vm.readOnly"
       ng-repeat="option in vm.options track by $index"
       ng-click="vm.handleClick(option, $index)"
       ng-class="{active: vm.isActive(option, $index), inactive: vm.isInactive($index)}"
       data-index="{{vm.resolveFn(option, $index)}}">
    <div class="i-switch-label">{{option[vm.viewAs] || option || $index}}</div>
    <div class="count" ng-if="vm.counts[$index] > -1">{{vm.counts[$index]}}</div>
  </div>
</div>
